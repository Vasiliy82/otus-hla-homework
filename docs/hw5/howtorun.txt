Инструкция по запуску проекта

1. Клонируем репозиторий. Команда: git clone https://github.com/Vasiliy82/otus-hla-homework/. Перейдите в папку проекта командой: cd otus-hla-homework.

2. Переключаемся на тэг hw5. Для этого выполните: git checkout hw5.

3. Переходим в директорию с окружением для запуска. Команда: cd backend-messages/environments/hw5/.

4. Запускаем инфраструктуру (PostgreSQL, Citus и другие зависимости). Для этого выполните: make up. Убедитесь, что все сервисы запустились корректно. Для проверки используйте команду: docker ps.

5. Возвращаемся в корневую директорию микросервиса. Команда: cd ../..

6. Запускаем приложение. Для этого выполните: go run cmd/main.go.

7. Проверяем отправку сообщений. Отправляем сообщение от пользователя 123e4567-e89b-12d3-a456-426614174000 партнеру 4720fe78-2f95-45ef-a14b-028f9c110d9d: 

curl -X POST "http://localhost:8080/dialog/4720fe78-2f95-45ef-a14b-028f9c110d9d/send" -H "Content-Type: application/json" -H "X-User-Id: 123e4567-e89b-12d3-a456-426614174000" -d '{"text":"Hello!"}'

Отправляем сообщение от пользователя 4720fe78-2f95-45ef-a14b-028f9c110d9d партнеру 123e4567-e89b-12d3-a456-426614174000: 

curl -X POST "http://localhost:8080/dialog/123e4567-e89b-12d3-a456-426614174000/send" -H "Content-Type: application/json" -H "X-User-Id: 4720fe78-2f95-45ef-a14b-028f9c110d9d" -d '{"text":"Hi!"}'

8. Проверяем получение сообщений. Получаем сообщения диалога с ID 4720fe78-2f95-45ef-a14b-028f9c110d9d для пользователя 123e4567-e89b-12d3-a456-426614174000: 

curl "http://localhost:8080/dialog/4720fe78-2f95-45ef-a14b-028f9c110d9d/list?offset=0&limit=10" -H "X-User-Id: 123e4567-e89b-12d3-a456-426614174000"

Получаем сообщения диалога с ID 123e4567-e89b-12d3-a456-426614174000 для пользователя 4720fe78-2f95-45ef-a14b-028f9c110d9d: 

curl "http://localhost:8080/dialog/123e4567-e89b-12d3-a456-426614174000/list?offset=0&limit=10" -H "X-User-Id: 4720fe78-2f95-45ef-a14b-028f9c110d9d"

